---
layout: post
title: 计算机网络期末复习题(7)
tags: 计算机网络
categories:
  - 计算机网络习题
date: 2022-01-04 15:26:37
---




考察知识点：静态路由，MAC地址表，路由表

<!--more-->

![image-20220104152644410](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201041526480.png)

![image-20220104152738021](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201041527147.png)

![image-20220104152748126](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201041527177.png)

```
参考解答：
(1)
路由器Router1上配置静态路由
ip route 192.168.2.0 255.255.255.0 Fa0/1
路由器Router2上配置静态路由
ip route 192.168.1.0 255.255.255.0 Fa0/0
(2)
补充完整MAC地址表
下图的MAC地址是由目的MAC地址和交换机送出的端口组成
```

![image-20220104202418794](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201042024864.png)

```
(3)
补全路由表
下图的路由表由目的网络的网络地址、路由器送出的接口以及下一跳IP地址组成
```

![image-20220104203104628](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201042031675.png)

```
(4)
列出每个网络(数据链路)上的IP地址和MAC地址
源IP地址和目标IP地址是不变的，变化的只有源MAC地址和目标MAC地址
```

![image-20220104203400718](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201042034772.png)



考察知识点：IP数据报首部格式

![image-20220104190108911](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201041901057.png)

```
解题思路：
1)将检验和字段的值置0，
2)将IP数据报首部划分为许多16位字的序列
3)相加，取反码，即可得首部检验和字段的值
```

![image-20220105074307237](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201050743433.png)

```
0100 0101 0000 0000(4、5、0)
0000 0000 0001 1100(28)
0000 0000 0000 0001(1)
0000 0000 0000 0000(0、0)
0000 0100 0001 0001(4、17)
0000 0000 0000 0000(0)
0000 1010 0000 1100(10、12)
0000 1110 0000 0101(14、5)
0000 1100 0000 0110(12、6)
0000 0111 0000 1001(7、9)
相加得：
0111 0100 0100 1110
取反码为
1000 1011 1011 0001
转换成十进制为35761
∴首部检验和为35761
```



考察知识点：网络地址

![image-20220104190219699](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201041902841.png)

```
参考解答：
网络地址=IP地址和子网掩码相与
(1)
128.96.39.10001111 and 255.255.255.10000000 得：
128.96.39.10000000，转换成十进制为128.96.39.128，
查路由表得，该分组的下一跳是接口1
(2)
128.96.40.10001110 and 255.255.255.10000000 得：
128.96.40.10000000，转换成十进制为128.96.40.128，
查路由表，发现没有与之匹配的路由，故走默认路由，即该分组的下一跳是R4
(3)
128.96.40.00001111 and 255.255.255.10000000 得：
128.96.40.00000000，转换成十进制为128.96.40.0，
查路由表得，该分组的下一跳是R2
(4)
192.4.153.10000001 and 255.255.255.11000000 得：
192.4.153.1000000，转换成十进制为192.4.153.128，
查路由表，发现没有与之匹配的路由，故走默认路由，即该分组的下一跳是R4
(5)
192.4.153.00110001 and 255.255.255.11000000 得：
192.4.153.00000000，转换成十进制为192.4.153.0，
查路由表得，该分组的下一跳是R3
```



考察知识点：路由器的配置IP地址

![image-20220105083619177](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201050836400.png)

```
参考解答：
为了便于作答，假定路由器与交换机连接的接口均是F0接口。
题目只需我们作答对最左侧的路由器的配置，故需进行IP地址的配置以及
路由的配置(这边我选择配置一条默认路由)

路由器Router-PT Router0的配置：
回车
enable
config terminal
interface F0
ip address 192.168.1.1 255.255.255.0
no shutdown
interface S2/0
ip address 192.168.4.1 255.255.255.0
no shutdown
ip route 0.0.0.0 0.0.0.0 192.168.4.1
```



考察知识点：子网划分、VLAN的配置

<a href="https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201050846302.png" style="color:red;border-bottom:none;">看不清楚图片，请戳我！</a> :point_left:

![image-20220105084636235](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201050846302.png)

![image-20220105084653827](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201050846937.png)

![image-20220105084706578](https://gitee.com/gujiakai/pic-go-typora02/raw/master/img/202201050847664.png)

```
参考解答：
2^2<6<2^3
故需借3位主机号来充当子网号，来划分子网。
故子网掩码为255.255.255.11100000，转换成十进制为255.255.255.224，
划分出的子网分别为：
192.168.0.00000000，转换成十进制为192.168.0.0
192.168.0.00100000，转换成十进制为192.168.0.32
192.168.0.01000000，转换成十进制为192.168.0.64
192.168.0.01100000，转换成十进制为192.168.0.96
192.168.0.10000000，转换成十进制为192.168.0.128
192.168.0.10100000，转换成十进制为192.168.0.160
192.168.0.11000000，转换成十进制为192.168.0.192
192.168.0.11100000，转换成十进制为192.168.0.224
取前6个子网按顺序划分给VLAN10-VLAN60
(1)
VLAN10所在的网络的网络地址为192.168.0.0，子网掩码为255.255.255.224。
∴VLAN10对应的可用地址范围为192.168.0.1~192.168.0.30
∴PC0的IP地址为192.168.0.30，子网掩码为255.255.255.224
(2)
VLAN30所在的网络的网络地址为192.168.0.64，子网掩码为255.255.255.224
∴VLAN30对应的可用地址范围为192.168.65~192.168.94
(3)
启用RIP进程
启用RIP版本2
(4)
通告网络为网络地址为192.168.1.0的网络
通告网络为网络地址为192.168.2.0的网络
(5)
新建vlan，vlan号为10
将交换机SW1的F0/2接口分配给VLAN10
将交换机SW1的F0/1接口的端口模式修改为trunk
(6)
10
由(1)知：
VLAN10对应的子网的第一个地址分配给了PC0的网关，
即VLAN10对应的子网的第一个地址分配给了路由器R1的F0/0接口
∴路由器R1的F0/0接口的IP地址为192.168.0.1，子网掩码为255.255.255.224
故填空为
ip address 192.168.0.1 255.255.255.224
(7)
给路由器R1添加一条默认路由
ip route 0.0.0.0 0.0.0.0 1
```



考察知识点：以太网帧格式、IP数据报首部格式、熟知端口号

```
1.
标准以太网的MTU(Maximum Transfer Unit)的值是多少？
以太网V2的MAC帧格式中的类型字段的值为0x0800，表示上层使用的是____数据报？
2.
IP数据报中的协议字段的值为1，表示此数据报携带的数据使用何种协议？
IP数据报中的协议字段的值为4，表示此数据报携带的数据使用何种协议？
IP数据报中的协议字段的值为6，表示此数据报携带的数据使用何种协议？
IP数据报中的协议字段的值为17，表示此数据报携带的数据使用何种协议？
3.
服务器端使用的常用熟知端口号：
```

|  应用程序  | FTP  | TELNET | SMTP | DNS  | TFTP | HTTP | HTTPS |
| :--------: | :--: | :----: | :--: | :--: | :--: | :--: | :---: |
| 熟知端口号 |      |        |      |      |      |      |       |

```
4.
IP数据报首部固定长度是多少？
UDP用户数据报首部固定长度是多少？
TCP报文段首部固定长度是多少？
```

```
参考解答：
1.
1500、IP
2.
ICMP、IP、TCP、UDP
3.
21、23、25、53、69、80、443
4.
20、8、20
```

